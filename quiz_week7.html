<!doctype html>
<html lang='en'>
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Robotics codes from scratch (RCFS) is a collection of source codes to study and test learning and optimization problems in robotics through simple 2D examples.'>
<meta name='keywords' content='robotics codes, robotics tutorial, rcfs, robotics from scratch'>
<meta name='author' content='Sylvain Calinon'>

<title>Robotics codes from scratch</title>
<link rel='canonical' href='https://robotics-codes-from-scratch.github.io/'>

<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css' integrity='sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi' crossorigin='anonymous'>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Permanent+Marker|Raleway&display=swap'>


<script defer src='https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js' integrity='sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3' crossorigin='anonymous'></script>


<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css' integrity='sha384-bYdxxUwYipFNohQlHt0bjN/LCpueqWz13HufFEV1SUatKs1cm4L6fFgCi1jT643X' crossorigin='anonymous'>
<script defer src='https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.js' integrity='sha384-Qsn9KnoKISj6dI8g7p1HBlNpVx0I8p1SvlwOldgi3IorMle61nQy4zEahWYtljaz' crossorigin='anonymous'></script>
<script defer src='https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/auto-render.min.js' integrity='sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05' crossorigin='anonymous'></script>
<script>
let macros = {
	'\\tp': '\\text{\\tiny{#1}}',
	'\\trsp' : '\\top',
	'\\psin' : '\\dagger',
	'\\eqref': '\\href{###1}{(\\text{#1})}',
	'\\ref': '\\href{###1}{\\text{#1}}',
	'\\label': '\\htmlId{#1}{}'
};
document.addEventListener('DOMContentLoaded', function() {
	renderMathInElement(document.body, {
		// customised options
		trust: (context) => ['\\htmlId', '\\href'].includes(context.command),
		macros: macros,
		// • auto-render specific keys, e.g.:
		delimiters: [
			{left: '$$', right: '$$', display: true},
			{left: '$', right: '$', display: false},
			{left: '\\(', right: '\\)', display: false},
			{left: '\\begin{equation}', right: '\\end{equation}', display: true},
			{left: '\\begin{equation*}', right: '\\end{equation*}', display: true},
			{left: '\\begin{align}', right: '\\end{align}', display: true},
			{left: '\\begin{align*}', right: '\\end{align*}', display: true},
			{left: '\\begin{alignat}', right: '\\end{alignat}', display: true},
			{left: '\\begin{gather}', right: '\\end{gather}', display: true},
			{left: '\\begin{CD}', right: '\\end{CD}', display: true},
			{left: '\\[', right: '\\]', display: true}
		],
		// • rendering keys, e.g.:
		throwOnError : false
	});
});
</script>
	
<!-- <script defer src='https://hypothes.is/embed.js' async></script> --> <!-- pyscript.css is incompatible with hypothes.is/embed.js-->


<link rel='stylesheet' href='css/sidebars.css'> <!-- main navigation menu -->
<link rel='stylesheet' href='css/main-template.css'>

</head>

<div class='container-fluid'>
<head>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
  
</head>
<script>
	function sendAnswers() {
		// Get user's answers
		var userAnswers = []; // Array to store user's answers
		for (var i = 1; i <= 5; i++) {
			var select = document.getElementById('q' + i);
			userAnswers.push(select.value);
		}

		var result = document.getElementById('result');

		var link = document.createElement('a');
		link.href = "mailto:tobias.loew@idiap.ch?cc=sylvain.calinon@idiap.ch&subject=rcfs_quiz_week7&body=" + encodeURIComponent(JSON.stringify(userAnswers));

		result.appendChild(link);

		link.click();
	}
</script>

<div class='container'>

<h1>Iterative linear quadratic regulator (iLQR)</h1>

<h5>Question 1</h5>
<p>When should we use iLQR instead of LQR?</p>
<div class='container text-center'>
<div class='row'>
<div class='col'>
<select class='form-select' id='q5'>
    <option value='-'>Select an option</option>
	<option value='a'>a. When LQR does not converge to a global optimum</option>
	<option value='b'>b. When the number of time steps is too large to be computed with LQR</option>
	<option value='c'>c. When the state space is compose of both position and velocity variables</option>
	<option value='d'>d. When the evolution of the state cannot be described in a linear form and/or the cost is nonquadratic</option>
</select>
</div>
</div>
</div> <!-- container -->
<br><br>

<h5>Question 2</h5>
<p>How does iLQR handle nonlinear system dynamics?</p>
<div class='container text-center'>
<div class='row'>
<div class='col'>
	<select class='form-select' id='q1'>
	    <option value='-'>Select an option</option>
		<option value='a'>a. iLQR simulates the nonlinear system dynamics using Monte Carlo sampling.</option>
		<option value='b'>b. iLQR approximates the nonlinear system dynamics by local linearization.</option>
		<option value='c'>c. iLQR relies on global optimization to cope with the nonlinear system dynamics.</option>
		<option value='d'>d. iLQR cannot handle nonlinear system dynamics.</option>
	</select>
</div>
</div>
</div> <!-- container -->
<br><br>

<h5>Question 3</h5>
<p>Which of the following statement is correct?</p>
<div class='container text-center'>
<div class='row'>
<div class='col'>
	<select class='form-select' id='q1'>
	    <option value='-'>Select an option</option>
		<option value='a'>a. iLQR exploits Taylor expansions to locally format the problem as a LQR problem.</option>
		<option value='b'>b. iLQR is used when LQR does not converge.</option>
		<option value='c'>c. iLQR solves for control variables while LQR solves for state variables.</option>
		<option value='d'>d. iLQR can solve nonquadratic cost functions but requires the system dynamics to be linear.</option>
	</select>
</div>
</div>
</div> <!-- container -->
<br><br>

<h5>Question 4</h5>
<p>We set an iLQR problem to control a manipulator with joint angle velocity commands, so that the robot's end-effector reaches a target in tasks space at the end of the movement. Which statement is correct?</p>
<div class='container text-center'>
<div class='row'>
<div class='col'>
	<select class='form-select' id='q1'>
	    <option value='-'>Select an option</option>
		<option value='a'>a. With joint angle velocity commands, the end-effector cannot reach the target.</option>
		<option value='b'>b. iLQR is used because the robot needs to compensate for the effect of gravity and Coriolis forces.</option>
		<option value='c'>c. The velocity commands computed with iLQR are the same as when using an inverse kinematics controller at each time step.</option>
		<option value='d'>d. iLQR knows the time when the target should be reached, which means that it can anticipate by planning optimal control commands.</option>
	</select>
</div>
</div>
</div> <!-- container -->
<br><br>

<h5>Question 5</h5>
<p>What is the role of backtracking line search in iLQR?</p>
<div class='container text-center'>
<div class='row'>
<div class='col'>
	<select class='form-select' id='q1'>
	    <option value='-'>Select an option</option>
		<option value='a'>a. It linearizes the system dynamics with a Taylor expansion.</option>
		<option value='b'>b. It allows to search for optimal linear feedback gains.</option>
		<option value='c'>c. It allows to scale the update of the control commands, e.g. to ensure that the cost obtained at each iteration does not increase.</option>
		<option value='d'>d. It determined whether LQR or iLQR should be used in an optimal control problem.</option>
	</select>
</div>
</div>
</div> <!-- container -->
<br><br>

<!--  
<h5>Question #</h5>
<p>Which statement is correct regarding the difference between LQR and iLQR?</p>
<div class='container text-center'>
<div class='row'>
<div class='col'>
<select class='form-select' id='q5'>
    <option value='-'>Select an option</option>
	<option value='a'>a. Constrained and unconstrained optimization</option>
	<option value='b'>b. Global and local policy</option>
	<option value='c'>c. Time-independent and time-dependent policy</option>
	<option value='d'>d. Finite and infinite cost</option>
</select>
</div>
</div>
</div> 
<br><br>
-->

<!--
<h5>Question #</h5>
<p> The feedback policy obtained from the recursive computation of iLQR is:</p>

<div class='container text-center'>
<div class='row'>
<div class='col'>
	<select class='form-select' id='q2'>
	    <option value='-'>Select an option</option>
		<option value='a'>a. Global</option>
		<option value='b'>b. Local</option>
		<option value='c'>c. Nonlinear</option>
		<option value='d'>d. Time-independent</option>
	</select>
</div>
</div>
</div>   
<br><br>
-->

<!--
<h5>Question #</h5>
<p>In iLQR, how to handle the state constraints?</p>

<div class='container text-center'>
<div class='row'>
<div class='col'>
	<select class='form-select' id='q3'>
	    <option value='-'>Select an option</option>
		<option value='a'>a. Completely ignore state constraints</option>
		<option value='b'>b. Handle them using the Augmented Lagrangian method</option>
		<option value='c'>c. Transform them into linear constraints</option>
		<option value='d'>d. Add penalty term in cost function</option>
	</select>
</div>
</div>
</div> 
<br><br>
-->

<!--
<h5>Question #</h5>
<p>In each iteration of the recursive iLQR formulation, what is the role of the "backward pass":</p>

<div class='container text-center'>
<div class='row'>
<div class='col'>
	<select class='form-select' id='q4'>
	    <option value='-'>Select an option</option>
		<option value='a'>a. Propagating state and control trajectories from the initial state</option>
		<option value='b'>b. Update current control inputs to minimize the cost-to-go given current state</option>
		<option value='c'>c. Linearize the system dynamics and cost functions</option>
		<option value='d'>d. Predict the next state</option>
	</select>
</div>
</div>
</div>  
<br><br>
-->

<button type='button' class='btn btn-primary' onclick='sendAnswers()'>Send answers</button>
</form>
<br><br>

<div id='result'></div>

</div> <!-- container -->

</div> <!--container-->
</html>

